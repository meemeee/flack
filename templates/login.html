{% extends "layout.html" %}

{% block tittle %}
Welcome!
{% endblock %}

{% block main %}
<div class="text-center">
    <h2 class="pb-4">Welcome!</h2>
    <div>
        <div id="name-no-exists" class="form-group" style="display: none">
            <input id="name" autofocus autocomplete="off" class="form-control" name="name" 
                placeholder="Input your name here" type="text">       
        </div>
        <button id="start" class="btn btn-primary">Start</button>
    </div>
    
    <div id="name-exists">
        <button class="btn btn-primary">Start</button>
    </div>
   
</div>

<script>
    // Display form to acquire name if this is the first time, else no form
    if (!localStorage.getItem('name')) 
        document.querySelector('#name-no-exists').style.display = "block";
        document.querySelector('#name-exists').style.display = "none";
        
        document.addEventListener('DOMContentLoaded', () => {
            
            // By default, Start button is disabled
            const start = document.querySelector('#start');
            start.disaled = true;
            
            // Enable Start button only if there is text in the input field
            const name = document.querySelector('#name');
            document.querySelector('#name').onkeyup = () => {
                if (name.value.length > 0)
                    start.disable = false;                       
                else
                    start.disable = true;
            };

            // Save name
            start.onclick = () => {
                localStorage.setItem('name', name.value);
            };
        });

</script>
{% endblock %}